<!DOCTYPE HTML>

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0">
<!--[if lt IE 9]>
<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<!-- END OF DON'T TOUCH -->

<!-- Website Title -->
<title>Idea of India</title>
<!-- END OF Website Title -->

<!--  Website description - Change the 'content' section to whatever you want -->
<meta name="description" content="Replace this text with a summary of your website. i.e. John Smith - Web Developer and Photographer - Welcome to my portfolio website! Here you will find all of my latest work. Enjoy!">
<!-- END OF Website description -->

<!-- DON'T TOUCH THIS SECTION -->
<link href='http://fonts.googleapis.com/css?family=Lato:300,400,700|Cookie' rel='stylesheet' type='text/css'>
<link rel="stylesheet" type="text/css" href="css/work.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script src="scripts/jquery.carouFredSel-5.5.2.js" type="text/javascript"></script>
<script type="text/javascript" src="scripts/jquery.easing.1.3.js"></script>
<script type="text/javascript" src="scripts/jquery.form.js"></script> 
<script type="text/javascript" src="scripts/scripts.js"></script> 

</head>
<!-- END OF DON'T TOUCH -->

<body>
<div class="wrapper">
	<div id="top">
        <div id="logo">
            <img id="logoimage" src="images/logo.png" alt="logo">	<!-- Logo image -->
            <h1 id="logotitle">Idea of India</h1>	<!-- Logo text -->
        </div><!--/logo-->
    
        <nav>	<!-- Navigation Start -->
            <ul>
            	<li><a href="index.html">HOME</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#work">Archive</a></li>
            </ul>      
        </nav>	<!-- Navigation End -->
    </div><!--/top-->
    
    
    
    
    <header><!-- Work Showcase Section Start -->

    	<h1 id="topicHeader"></h1><!-- Title of project -->
        <h2 id="topicSubHeader"></h2><!-- Category of project -->
        <p id="topicText">Past hangouts</p>
        <input type="text" id="inputTopic"  value="Hi"/>

     <script type="text/javascript"> <!-- Changing the Title of the Topic Pages -->
    var topic_name = unescape(document.URL).split('?topic=')[1];   
     if (topic_name =='economy') 
     {
        document.getElementById("topicHeader").innerHTML="Indian Economy"
        document.getElementById("topicSubHeader").innerHTML="Business and Trade"
     }

     else if (topic_name =='law') 
     {
        document.getElementById("topicHeader").innerHTML="Law and Constitution"
        document.getElementById("topicSubHeader").innerHTML="Judiciary"
     }
      else if (topic_name =='foreignAffairs') 
     {
        document.getElementById("topicHeader").innerHTML="Foreign Policy and National Security"
        document.getElementById("topicSubHeader").innerHTML="Strategic Importance"
     }    
     else if (topic_name =='society') 
     {
        document.getElementById("topicHeader").innerHTML="Society"
        document.getElementById("topicSubHeader").innerHTML="Social Issues"
     } 
     else if (topic_name =='education') 
     {
        document.getElementById("topicHeader").innerHTML="Education System"
        document.getElementById("topicSubHeader").innerHTML=""
     } 

    </script>   

    </header>
    
    <section id="workbody"><!-- Category Youtube Video to be displayed -->
	<script type="text/javascript">

	var parameter = unescape(document.URL).split('?topic=')[1];
    var topic_url = 'http://www.youtube.com/user/ideaofindia/search?query='+parameter;
	
	 
jQuery.ajax = (function(_ajax){

    var protocol = location.protocol,
        hostname = location.hostname,
        exRegex = RegExp(protocol + '//' + hostname),
        YQL = 'http' + (/^https/.test(protocol)?'s':'') + '://query.yahooapis.com/v1/public/yql?callback=?',
        query = 'select * from html where url="{URL}" and xpath="*"';

    function isExternal(url) {
        return !exRegex.test(url) && /:\/\//.test(url);
    }

    return function(o) {

        var url = o.url;

        if ( /get/i.test(o.type) && !/json/i.test(o.dataType) && isExternal(url) ) {

            // Manipulate options so that JSONP-x request is made to YQL

            o.url = YQL;
            o.dataType = 'json';

            o.data = {
                q: query.replace(
                    '{URL}',
                    url + (o.data ?
                        (/\?/.test(url) ? '&' : '?') + jQuery.param(o.data)
                    : '')
                ),
                format: 'xml'
            };

            // Since it's a JSONP request
            // complete === success
            if (!o.success && o.complete) {
                o.success = o.complete;
                delete o.complete;
            }

            o.success = (function(_success){
                return function(data) {

                    if (_success) {
                        // Fake XHR callback.
                        _success.call(this, {
                            responseText: data.results[0]
                                // YQL screws with <script>s
                                // Get rid of them
                                .replace(/<script[^>]+?\/>|<script(.|\s)*?\/script>/gi, '')
                        }, 'success');
                    }

                };
            })(o.success);

        }

        return _ajax.apply(this, arguments);

    };

})(jQuery.ajax);



$.ajax({
    url: topic_url,
    type: 'GET',
    success: function(res) {
        var htmlContent = res.responseText;
         document.getElementById("inputTopic").value=htmlContent;

        // htmlContent
        //alert(htmlContent);
        


        /* 
		var regex = /a href="\/watch\?v=/g, match,tempIndex;
		while ( (match = regex.exec(htmlContent)) ) 
		{
		tempIndex=match.index;
		alert(htmlContent.substring(tempIndex+17,tempIndex+28));
		}
		*/

		//alert(topic_url);
		//alert(htmlContent);
		
		
		}
});






	</script>
    </section><!-- Project images end -->
    
    <hr/>	<!-- Horizontal Line -->
    
    
    
		<section id="work"> <!-- Work Links Section Start -->
    	<div class="item">
        	<a href="topic.html?topic=economy"><img src="images/work/thumbs/item1.png" alt="image 1"></a><!-- Image must be 400px by 300px -->
            <h3>Economy</h3><!--Title-->
            <p>Business</p><!--Category-->
        </div><!--/item-->
        
        <div class="item">
        	<a href="topic.html?topic=law"><img src="images/work/thumbs/item2.png" alt="image 2"></a><!-- Image must be 400px by 300px -->
        	<h3>Law</h3><!--Title-->
            <p>Constitution</p><!--Category-->
        </div><!--/item-->
        
        <div class="item">
        	<a href="topic.html?topic=foreignAffairs"><img src="images/work/thumbs/item3.png" alt="image 3"></a><!-- Image must be 400px by 300px -->
        	<h3>Foreign Policy</h3><!--Title-->
            <p>National Security</p><!--Category-->
        </div><!--/item-->
		
		<div class="item">
        	<a href="topic.html?topic=society"><img src="images/work/thumbs/item5.png" alt="image 5"></a><!-- Image must be 400px by 300px -->
        	<h3>Society</h3><!--Title-->
            <p>Diversity</p><!--Category-->
        </div><!--/item-->
      

        <div class="item">
        	<a href="topic.html?topic=education"><img src="images/work/thumbs/item4.png" alt="image 4"></a><!-- Image must be 400px by 300px -->
        	<h3>Education</h3><!--Title-->
            <p>System</p><!--Category-->
        </div><!--/item-->
        

        	
        
        <div class="clearfix"></div>
    </section> <!-- Work Links Section End -->
</div>


 
</body>
</html>
